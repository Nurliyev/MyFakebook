{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="{% static 'css/create-post.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css'>
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/uicons-bold-rounded/css/uicons-bold-rounded.css'>
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/uicons-solid-rounded/css/uicons-solid-rounded.css'>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"
          integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
</head>
<body>

<nav class="navbar sticky-top navbar-light" style="background-color: #eaecec">
    <div class="container-fluid">
        <div class="col-sm-8">
            <a class="navbar-brand" href="#">
                <img src="{% static 'img/F.svg' %}" alt="" width="30" height="24" class="d-inline-block align-text-top">
                fakebook
            </a>
        </div>
    </div>
</nav>

<nav class="navbar fixed-bottom navbar-light" style="background-color: #eaecec">
    <div class="container-fluid  justify-content-center">
        <a class="navbar-brand" href="home.html">
            <i class="fi-sr-home" style="font-size: 30px"></i>
        </a>
    </div>
</nav>

<div class="container-body">
    <div class="mycontainer">
        <div class="wrapper">
            <div class="image">
                <img src="{{ post.avatar.url }}" alt="" id="image">
            </div>
            <div class="content">
                <div class="icon">
                    <i class="fi-rr-upload"></i></div>
                <div class="text">
                    No file chosen, yet!
                </div>
            </div>
            <div id="cancel-btn">
                <i class="fas fa-times"></i></div>
            <div class="file-name">
                File Name here
            </div>
        </div>

        <button onclick="defaultBtnActive()" id="custom-btn">Choose a file</button>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <input id="default-btn" name="avatar" type="file" hidden>
            <div class="mycontainer2">
                <label for="exampleFormControlTextarea1" class="form-label">Enter your text</label>
                <textarea class="form-control" name="content" id="exampleFormControlTextarea1" rows="2">{{ post.content }}</textarea>
                <button type="submit" class="btn btn-block btn-login" style="background-color:#FF5964;
    color:#fff;margin-top: 10px"> Success
                </button>
            </div>
        </form>
    </div>


</div>

<script>
    const wrapper = document.querySelector(".wrapper");
    const fileName = document.querySelector(".file-name");
    const defaultBtn = document.querySelector("#default-btn");
    const customBtn = document.querySelector("#custom-btn");
    const cancelBtn = document.querySelector("#cancel-btn i");
    const img = document.getElementById('image');
    let regExp = /[0-9a-zA-Z\^\&\'\@\{\}\[\]\,\$\=\!\-\#\(\)\.\%\+\~\_ ]+$/;

    function defaultBtnActive() {
        defaultBtn.click();
    }

    defaultBtn.addEventListener("change", function () {
        const file = this.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function () {
                const result = reader.result;
                img.src = result;
                wrapper.classList.add("active");
            }
            cancelBtn.addEventListener("click", function () {
                img.src = "";
                wrapper.classList.remove("active");
            })
            reader.readAsDataURL(file);
        }
        if (this.value) {
            let valueStore = this.value.match(regExp);
            fileName.textContent = valueStore;
        }
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"
        integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG"
        crossOrigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js"
        integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc"
        crossOrigin="anonymous"></script>


</body>
</html>
